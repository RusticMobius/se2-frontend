{"remainingRequest":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/thread-loader/dist/cjs.js!/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/babel-loader/lib/index.js!/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/src/views/student/UserCenter.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/src/views/student/UserCenter.vue","mtime":1622360442516},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0VXNlciB9IGZyb20gIkAvYXBpL3VzZXIiOwppbXBvcnQgeyByZWNoYXJnZSB9IGZyb20gIkAvYXBpL3JlY2hhcmdlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVc2VyQ2VudGVyIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlckluZm86IHsKICAgICAgICBpZDogMCwKICAgICAgICB1bmFtZTogIiIsCiAgICAgICAgcGhvbmU6ICIiLAogICAgICAgIHBhc3N3b3JkOiBudWxsLAogICAgICAgIHBpY3R1cmU6IG51bGwsCiAgICAgICAgYmFsYW5jZTogMCwKICAgICAgICB1c2VyUm9sZTogIiIsCiAgICAgICAgY3JlYXRlVGltZTogIiIKICAgICAgfSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgc2hvd0FsZXJ0OiBmYWxzZSwKICAgICAgdmFsdWU6IDAsCiAgICAgIG1zZzogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVSZWNoYXJnZTogZnVuY3Rpb24gaGFuZGxlUmVjaGFyZ2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZWNoYXJnZSh7CiAgICAgICAgdXNlcklkOiB0aGlzLnVzZXJJbmZvLmlkLAogICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgIGlmIChyZXMgJiYgcmVzLmNvZGUgPT09IDEpIHsKICAgICAgICAgIF90aGlzLm1zZyA9IHJlcy5tc2c7CiAgICAgICAgICBfdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgICAgIF90aGlzLnNob3dBbGVydCA9IHRydWU7CgogICAgICAgICAgX3RoaXMucmVmcmVzaFVzZXJJbmZvKCk7CgogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnNob3dBbGVydCA9IGZhbHNlOwogICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZWZyZXNoVXNlckluZm86IGZ1bmN0aW9uIHJlZnJlc2hVc2VySW5mbygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgdXNlcklkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKTsKICAgICAgZ2V0VXNlcih1c2VySWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi51c2VySW5mbyA9IHJlcyB8fCB7fTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5yZWZyZXNoVXNlckluZm8oKTsKICB9Cn07"},{"version":3,"sources":["UserCenter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA,SAAA,OAAA,QAAA,YAAA;AACA,SAAA,QAAA,QAAA,gBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,EAAA,EAAA,CADA;AAEA,QAAA,KAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA,EAHA;AAIA,QAAA,QAAA,EAAA,IAJA;AAKA,QAAA,OAAA,EAAA,IALA;AAMA,QAAA,OAAA,EAAA,CANA;AAOA,QAAA,QAAA,EAAA,EAPA;AAQA,QAAA,UAAA,EAAA;AARA,OADA;AAWA,MAAA,MAAA,EAAA,KAXA;AAYA,MAAA,SAAA,EAAA,KAZA;AAaA,MAAA,KAAA,EAAA,CAbA;AAcA,MAAA,GAAA,EAAA;AAdA,KAAA;AAgBA,GApBA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AACA,MAAA,QAAA,CAAA;AAAA,QAAA,MAAA,EAAA,KAAA,QAAA,CAAA,EAAA;AAAA,QAAA,KAAA,EAAA,KAAA;AAAA,OAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,YAAA,GAAA,IAAA,GAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,GAAA,GAAA,GAAA,CAAA,GAAA;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,KAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,IAAA;;AACA,UAAA,KAAA,CAAA,eAAA;;AACA,UAAA,UAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,SAAA,GAAA,KAAA;AACA,WAFA,EAEA,IAFA,CAAA;AAGA;AACA,OAXA;AAYA,KAdA;AAgBA,IAAA,eAhBA,6BAgBA;AAAA;;AACA,UAAA,MAAA,GAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAAA;AACA,MAAA,OAAA,CAAA,MAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,GAAA,IAAA,EAAA;AACA,OAFA;AAGA;AArBA,GAtBA;AA8CA,EAAA,OA9CA,qBA8CA;AACA,SAAA,eAAA;AACA;AAhDA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <!-- alert -->\r\n    <v-alert\r\n      class=\"alert\"\r\n      outlined\r\n      type=\"success\"\r\n      text\r\n      v-show=\"showAlert\"\r\n      transition=\"scroll-y-transition\"\r\n    >\r\n      {{ msg }}\r\n    </v-alert>\r\n    <template>\r\n      <v-dialog v-model=\"dialog\" max-width=\"400\">\r\n        <v-card>\r\n          <v-card-title class=\"headline\">\r\n            账户充值\r\n          </v-card-title>\r\n          <v-text-field\r\n            v-model=\"value\"\r\n            label=\"充值金额\"\r\n            class=\"pa-6\"\r\n          ></v-text-field>\r\n\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n\r\n            <v-btn color=\"green darken-1\" text @click=\"handleRecharge\">\r\n              充值\r\n            </v-btn>\r\n\r\n            <v-btn color=\"green darken-1\" text @click=\"dialog = false\">\r\n              取消\r\n            </v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-dialog>\r\n    </template>\r\n\r\n    <v-container class=\"pl-16 pr-16\">\r\n      <form class=\"pa-12 grey lighten-5 mt-8\">\r\n        <v-text-field v-model=\"userInfo.id\" label=\"ID\" readonly></v-text-field>\r\n        <v-text-field\r\n          v-model=\"userInfo.uname\"\r\n          label=\"用户名\"\r\n          readonly\r\n        ></v-text-field>\r\n        <v-text-field\r\n          v-model=\"userInfo.phone\"\r\n          label=\"手机号\"\r\n          readonly\r\n        ></v-text-field>\r\n        <v-text-field\r\n          v-model=\"userInfo.userRole\"\r\n          label=\"用户角色\"\r\n          readonly\r\n        ></v-text-field>\r\n        <v-text-field\r\n          v-model=\"userInfo.createTime\"\r\n          label=\"注册时间\"\r\n          readonly\r\n        ></v-text-field>\r\n        <v-text-field\r\n          v-model=\"userInfo.balance\"\r\n          label=\"账户余额\"\r\n          readonly\r\n        ></v-text-field>\r\n        <v-btn color=\"primary\" dark @click.stop=\"dialog = true\">\r\n          充值\r\n        </v-btn>\r\n      </form>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getUser } from \"@/api/user\";\r\nimport { recharge } from \"@/api/recharge\";\r\n\r\nexport default {\r\n  name: \"UserCenter\",\r\n\r\n  data() {\r\n    return {\r\n      userInfo: {\r\n        id: 0,\r\n        uname: \"\",\r\n        phone: \"\",\r\n        password: null,\r\n        picture: null,\r\n        balance: 0,\r\n        userRole: \"\",\r\n        createTime: \"\"\r\n      },\r\n      dialog: false,\r\n      showAlert: false,\r\n      value: 0,\r\n      msg: \"\"\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    handleRecharge() {\r\n      recharge({ userId: this.userInfo.id, value: this.value }).then(res => {\r\n        console.log(res);\r\n        if (res && res.code === 1) {\r\n          this.msg = res.msg;\r\n          this.dialog = false;\r\n          this.showAlert = true;\r\n          this.refreshUserInfo();\r\n          setTimeout(() => {\r\n            this.showAlert = false;\r\n          }, 1000);\r\n        }\r\n      });\r\n    },\r\n\r\n    refreshUserInfo() {\r\n      const userId = window.localStorage.getItem(\"userId\");\r\n      getUser(userId).then(res => {\r\n        this.userInfo = res || {};\r\n      });\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.refreshUserInfo();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.alert {\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 100px;\r\n  z-index: 999;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/student"}]}