{"remainingRequest":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/babel-loader/lib/index.js!/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/eslint-loader/index.js??ref--13-0!/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/src/api/coupon.js","dependencies":[{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/src/api/coupon.js","mtime":1622360442000},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgQ09VUE9OX01PRFVMRSB9IGZyb20gIi4vX3ByZWZpeCI7Ci8qKg0KICog5Yib5bu65LyY5oOg562W55WlDQogKiBAcGFyYW0geyp9IHBheWxvYWQNCiAqIEByZXR1cm5zDQogKi8KCmV4cG9ydCB2YXIgY3JlYXRlQ291cG9uID0gZnVuY3Rpb24gY3JlYXRlQ291cG9uKHBheWxvYWQpIHsKICByZXR1cm4gYXhpb3MucG9zdCgiIi5jb25jYXQoQ09VUE9OX01PRFVMRSwgIi9jcmVhdGUiKSwgcGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICByZXR1cm4gcmVzLmRhdGE7CiAgfSk7Cn07Ci8qKg0KICog5Y+R5pS+5LyY5oOg5Yi4DQogKiBAcGFyYW0geyp9IHBheWxvYWQNCiAqIEByZXR1cm5zDQogKi8KCmV4cG9ydCB2YXIgZGVsaXZlckNvdXBvbiA9IGZ1bmN0aW9uIGRlbGl2ZXJDb3Vwb24ocGF5bG9hZCkgewogIHJldHVybiBheGlvcy5wb3N0KCIiLmNvbmNhdChDT1VQT05fTU9EVUxFLCAiL2RlbGl2ZXIiKSwgcGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICByZXR1cm4gcmVzLmRhdGE7CiAgfSk7Cn07Ci8qKg0KICog6I635Y+W5Y+v5Lul5Y+R5biD55qE5LyY5oOg5Yi4DQogKiBAcmV0dXJucw0KICovCgpleHBvcnQgdmFyIGdldENvdXBvbkxpc3QgPSBmdW5jdGlvbiBnZXRDb3Vwb25MaXN0KCkgewogIHJldHVybiBheGlvcy5nZXQoIiIuY29uY2F0KENPVVBPTl9NT0RVTEUsICIvZ2V0QWxsIikpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgcmV0dXJuIHJlcy5kYXRhOwogIH0pOyAvLyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFsKICAvLyAgIHsKICAvLyAgICAgImlkIjogOCwKICAvLyAgICAgInR5cGUiOiAi5YeP5Lu35Z6LIiwKICAvLyAgICAgInNjb3BlIjogIuWNleS4quivvueoiyIsCiAgLy8gICAgICJuYW1lIjogIua1i+ivlea7oeWHj+S8mOaDoCIsCiAgLy8gICAgICJkZXNjcmlwdGlvbiI6ICLmtYvor5Xmu6Hlh4/kvJjmg6AiLAogIC8vICAgICAibWV0YWRhdGEiOiAie1widGhyZXNob2xkXCI6MSxcImN1dERvd25cIjoxLFwiY291cnNlSWRcIjoxfSIsCiAgLy8gICAgICJzdGFydFRpbWUiOiAiMjAyMS0wNS0xOSAwMDowMDowMCIsCiAgLy8gICAgICJlbmRUaW1lIjogIjIwMjEtMDUtMjAgMDA6MDA6MDAiLAogIC8vICAgICAidmFsaWQiOiB0cnVlLAogIC8vICAgICAic2hhcmFibGUiOiB0cnVlCiAgLy8gICB9LAogIC8vICAgewogIC8vICAgICAiaWQiOiAxLAogIC8vICAgICAidHlwZSI6ICLlh4/ku7flnosiLAogIC8vICAgICAic2NvcGUiOiAi5Y2V5Liq6K++56iLIiwKICAvLyAgICAgIm5hbWUiOiAi5rWL6K+V5ruh5YeP5LyY5oOgIiwKICAvLyAgICAgImRlc2NyaXB0aW9uIjogIua1i+ivlea7oeWHj+S8mOaDoCIsCiAgLy8gICAgICJtZXRhZGF0YSI6ICJ7XCJ0aHJlc2hvbGRcIjoxLFwiY3V0RG93blwiOjEsXCJjb3Vyc2VJZFwiOjF9IiwKICAvLyAgICAgInN0YXJ0VGltZSI6ICIyMDIxLTA1LTE5IDAwOjAwOjAwIiwKICAvLyAgICAgImVuZFRpbWUiOiAiMjAyMS0wNS0yMCAwMDowMDowMCIsCiAgLy8gICAgICJ2YWxpZCI6IHRydWUsCiAgLy8gICAgICJzaGFyYWJsZSI6IHRydWUKICAvLyAgIH0sCiAgLy8gICB7CiAgLy8gICAgICJpZCI6IDQsCiAgLy8gICAgICJ0eXBlIjogIuWHj+S7t+WeiyIsCiAgLy8gICAgICJzY29wZSI6ICLljZXkuKror77nqIsiLAogIC8vICAgICAibmFtZSI6ICLmtYvor5Xmu6Hlh4/kvJjmg6AiLAogIC8vICAgICAiZGVzY3JpcHRpb24iOiAi5rWL6K+V5ruh5YeP5LyY5oOgIiwKICAvLyAgICAgIm1ldGFkYXRhIjogIntcInRocmVzaG9sZFwiOjEsXCJjdXREb3duXCI6MSxcImNvdXJzZUlkXCI6MX0iLAogIC8vICAgICAic3RhcnRUaW1lIjogIjIwMjEtMDUtMTkgMDA6MDA6MDAiLAogIC8vICAgICAiZW5kVGltZSI6ICIyMDIxLTA1LTIwIDAwOjAwOjAwIiwKICAvLyAgICAgInZhbGlkIjogdHJ1ZSwKICAvLyAgICAgInNoYXJhYmxlIjogdHJ1ZQogIC8vICAgfQogIC8vIF0pCn07CmV4cG9ydCB2YXIgZ2V0QXZhaWxhYmxlQ291cG9uc0Zvck9yZGVyID0gZnVuY3Rpb24gZ2V0QXZhaWxhYmxlQ291cG9uc0Zvck9yZGVyKG9yZGVySWQpIHsKICByZXR1cm4gYXhpb3MuZ2V0KCIiLmNvbmNhdChDT1VQT05fTU9EVUxFLCAiL2dldEZvck9yZGVyIiksIHsKICAgIHBhcmFtczogewogICAgICBvcmRlcklkOiBvcmRlcklkCiAgICB9CiAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICByZXR1cm4gcmVzLmRhdGE7CiAgfSk7Cn07"},{"version":3,"sources":["/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/src/api/coupon.js"],"names":["axios","COUPON_MODULE","createCoupon","payload","post","then","res","data","deliverCoupon","getCouponList","get","getAvailableCouponsForOrder","orderId","params"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,WAA9B;AAEA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,OAAO,EAAI;AACrC,SAAOH,KAAK,CAACI,IAAN,WAAcH,aAAd,cAAsCE,OAAtC,EAA+CE,IAA/C,CAAoD,UAAAC,GAAG,EAAI;AAChE,WAAOA,GAAG,CAACC,IAAX;AACD,GAFM,CAAP;AAGD,CAJM;AAMP;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAAL,OAAO,EAAI;AACtC,SAAOH,KAAK,CAACI,IAAN,WAAcH,aAAd,eAAuCE,OAAvC,EAAgDE,IAAhD,CAAqD,UAAAC,GAAG,EAAI;AACjE,WAAOA,GAAG,CAACC,IAAX;AACD,GAFM,CAAP;AAGD,CAJM;AAMP;AACA;AACA;AACA;;AACA,OAAO,IAAME,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACjC,SAAOT,KAAK,CAACU,GAAN,WAAaT,aAAb,cAAqCI,IAArC,CAA0C,UAAAC,GAAG,EAAI;AACtD,WAAOA,GAAG,CAACC,IAAX;AACD,GAFM,CAAP,CADiC,CAIjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CA1CM;AA4CP,OAAO,IAAMI,2BAA2B,GAAG,SAA9BA,2BAA8B,CAAAC,OAAO,EAAI;AACpD,SAAOZ,KAAK,CACTU,GADI,WACGT,aADH,mBACgC;AACnCY,IAAAA,MAAM,EAAE;AACND,MAAAA,OAAO,EAAPA;AADM;AAD2B,GADhC,EAMJP,IANI,CAMC,UAAAC,GAAG;AAAA,WAAIA,GAAG,CAACC,IAAR;AAAA,GANJ,CAAP;AAOD,CARM","sourcesContent":["import axios from \"axios\";\r\nimport { COUPON_MODULE } from \"./_prefix\";\r\n\r\n/**\r\n * 创建优惠策略\r\n * @param {*} payload\r\n * @returns\r\n */\r\nexport const createCoupon = payload => {\r\n  return axios.post(`${COUPON_MODULE}/create`, payload).then(res => {\r\n    return res.data;\r\n  });\r\n};\r\n\r\n/**\r\n * 发放优惠券\r\n * @param {*} payload\r\n * @returns\r\n */\r\nexport const deliverCoupon = payload => {\r\n  return axios.post(`${COUPON_MODULE}/deliver`, payload).then(res => {\r\n    return res.data;\r\n  });\r\n};\r\n\r\n/**\r\n * 获取可以发布的优惠券\r\n * @returns\r\n */\r\nexport const getCouponList = () => {\r\n  return axios.get(`${COUPON_MODULE}/getAll`).then(res => {\r\n    return res.data;\r\n  });\r\n  // return Promise.resolve([\r\n  //   {\r\n  //     \"id\": 8,\r\n  //     \"type\": \"减价型\",\r\n  //     \"scope\": \"单个课程\",\r\n  //     \"name\": \"测试满减优惠\",\r\n  //     \"description\": \"测试满减优惠\",\r\n  //     \"metadata\": \"{\\\"threshold\\\":1,\\\"cutDown\\\":1,\\\"courseId\\\":1}\",\r\n  //     \"startTime\": \"2021-05-19 00:00:00\",\r\n  //     \"endTime\": \"2021-05-20 00:00:00\",\r\n  //     \"valid\": true,\r\n  //     \"sharable\": true\r\n  //   },\r\n  //   {\r\n  //     \"id\": 1,\r\n  //     \"type\": \"减价型\",\r\n  //     \"scope\": \"单个课程\",\r\n  //     \"name\": \"测试满减优惠\",\r\n  //     \"description\": \"测试满减优惠\",\r\n  //     \"metadata\": \"{\\\"threshold\\\":1,\\\"cutDown\\\":1,\\\"courseId\\\":1}\",\r\n  //     \"startTime\": \"2021-05-19 00:00:00\",\r\n  //     \"endTime\": \"2021-05-20 00:00:00\",\r\n  //     \"valid\": true,\r\n  //     \"sharable\": true\r\n  //   },\r\n  //   {\r\n  //     \"id\": 4,\r\n  //     \"type\": \"减价型\",\r\n  //     \"scope\": \"单个课程\",\r\n  //     \"name\": \"测试满减优惠\",\r\n  //     \"description\": \"测试满减优惠\",\r\n  //     \"metadata\": \"{\\\"threshold\\\":1,\\\"cutDown\\\":1,\\\"courseId\\\":1}\",\r\n  //     \"startTime\": \"2021-05-19 00:00:00\",\r\n  //     \"endTime\": \"2021-05-20 00:00:00\",\r\n  //     \"valid\": true,\r\n  //     \"sharable\": true\r\n  //   }\r\n  // ])\r\n};\r\n\r\nexport const getAvailableCouponsForOrder = orderId => {\r\n  return axios\r\n    .get(`${COUPON_MODULE}/getForOrder`, {\r\n      params: {\r\n        orderId\r\n      }\r\n    })\r\n    .then(res => res.data);\r\n};\r\n"]}]}