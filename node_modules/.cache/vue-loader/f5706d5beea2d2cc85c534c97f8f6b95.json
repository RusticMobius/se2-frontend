{"remainingRequest":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/src/views/student/CourseList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/src/views/student/CourseList.vue","mtime":1625761951807},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQ291cnNlSXRlbSBmcm9tICJAL2NvbXBvbmVudHMvQ291cnNlSXRlbS52dWUiOw0KaW1wb3J0IFRlc3RJdGVtIGZyb20gIkAvY29tcG9uZW50cy9UZXN0SXRlbSI7DQppbXBvcnQgew0KICBnZXRDb3Vyc2VzQnlUeXBlLA0KICBnZXRDb3Vyc2VzQnlLZXksDQogIGdldEJvdWdodENvdXJzZXMsDQogIGdldEhvdENvdXJzZXMsDQogIHNldENvdXJzZUxpa2UsDQogIGdldENvdXJzZUJ5SWQsDQogIHNldENvdXJzZURpc2xpa2UNCn0gZnJvbSAiQC9hcGkvY291cnNlIjsNCmltcG9ydCB7DQogIGNhbmNlbENvdXBvbiwNCiAgY3JlYXRlT3JkZXIsDQogIGdldE9yZGVyQnlJZCwNCiAgcGF5T3JkZXIsDQogIHVzZUNvdXBvbg0KfSBmcm9tICJAL2FwaS9vcmRlciI7DQppbXBvcnQgeyBnZXRBdmFpbGFibGVDb3Vwb25zRm9yT3JkZXIgfSBmcm9tICJAL2FwaS9jb3Vwb24iOw0KaW1wb3J0IHtnZXRUZXN0QnlDb3Vyc2V9IGZyb20gIkAvYXBpL3Rlc3QiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJTdHVkZW50Q291cnNlTGlzdCIsDQoNCiAgY29tcG9uZW50czogew0KICAgIENvdXJzZUl0ZW0sDQogICAgVGVzdEl0ZW0NCiAgfSwNCg0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkaWFsb2c6IGZhbHNlLA0KICAgICAgZGlhbG9nMjogZmFsc2UsDQogICAgICBtc2c6ICIiLA0KICAgICAgY3VycmVudENvdXJzZUlkOiAwLA0KICAgICAgY3VycmVudENvdXJzZU5hbWU6ICIiLA0KICAgICAgY3VycmVudENvdXJzZVByaWNlOiAwLA0KICAgICAgY29sb3JMaXN0OiBbIiMyNkE2OUEiLCAiIzAwQjBGRiIsICIjNUM2QkMwIiwgIiNGRkIzMDAiLCAiI0U1NzM3MyJdLA0KICAgICAgY3VycmVudFRhYjogMCwgLy8gMCAxIDINCiAgICAgIHByaW1hcnk6IHsNCiAgICAgICAgbmFtZTogIuWInee6pyIsDQogICAgICAgIHRvdGFsUGFnZTogMSwNCiAgICAgICAgY3VycmVudFBhZ2U6IDEsDQogICAgICAgIGxpc3Q6IFtdDQogICAgICB9LA0KICAgICAgbWVkaXVtOiB7DQogICAgICAgIG5hbWU6ICLkuK3nuqciLA0KICAgICAgICB0b3RhbFBhZ2U6IDEsDQogICAgICAgIGN1cnJlbnRQYWdlOiAxLA0KICAgICAgICBsaXN0OiBbXQ0KICAgICAgfSwNCiAgICAgIGFkdmFuY2VkOiB7DQogICAgICAgIG5hbWU6ICLpq5jnuqciLA0KICAgICAgICB0b3RhbFBhZ2U6IDEsDQogICAgICAgIGN1cnJlbnRQYWdlOiAxLA0KICAgICAgICBsaXN0OiBbXQ0KICAgICAgfSwNCiAgICAgIHNlYXJjaFRleHQ6ICIiLA0KICAgICAgc2VhcmNoQ291cnNlOiBbXSwNCiAgICAgIHNlYXJjaFRvdGFsUGFnZTogMSwNCiAgICAgIHNlYXJjaEN1cnJlbnRQYWdlOiAxLA0KICAgICAgLy8NCiAgICAgIGJvdWdodENvdXJzZXNMaXN0OiBbXSwNCiAgICAgIGhvdENvdXJzZUxpc3Q6IFtdLA0KICAgICAgc2hvd1NuYWNrQmFyOiBmYWxzZSwNCiAgICAgIHNuYWNrQmFyTXNnOiAiIiwNCiAgICAgIHNuYWNrQmFyQ29sb3I6ICJzdWNjZXNzIiwNCiAgICAgIGNvdXBvbkhlYWRlcnM6IFsNCiAgICAgICAgew0KICAgICAgICAgIHRleHQ6ICLkvJjmg6DliLjlkI3np7AiLA0KICAgICAgICAgIHZhbHVlOiAibmFtZSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRleHQ6ICLkvJjmg6DliLjnsbvlnosiLA0KICAgICAgICAgIHZhbHVlOiAidHlwZSINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRleHQ6ICLkvJjmg6DliLjmj4/ov7AiLA0KICAgICAgICAgIHZhbHVlOiAiZGVzY3JpcHRpb24iDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0ZXh0OiAi5YWD5pWw5o2uIiwNCiAgICAgICAgICB2YWx1ZTogIm1ldGFkYXRhIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGV4dDogIuS4juWFtuS7luS8mOaDoOWIuOWQjOaXtuS9v+eUqCIsDQogICAgICAgICAgdmFsdWU6ICJzaGFyYWJsZSINCiAgICAgICAgfQ0KICAgICAgXSwNCiAgICAgIGNvdXBvbnM6IFtdLA0KICAgICAgc2VsZWN0ZWRDb3Vwb25zOiBbXSwNCiAgICAgIHNldHRsZURpYWxvZzogZmFsc2UsDQogICAgICBjdXJyZW50T3JkZXI6IHt9LA0KICAgICAgdGVzdExpc3Q6W10sDQogICAgfTsNCiAgfSwNCg0KICB3YXRjaDogew0KICAgICJwcmltYXJ5LmN1cnJlbnRQYWdlIjogew0KICAgICAgaGFuZGxlcjogZnVuY3Rpb24odmFsKSB7DQogICAgICAgIHRoaXMuaGFuZGxlR2V0Q291cnNlc0J5VHlwZSh2YWwsICJwcmltYXJ5Iik7DQogICAgICB9DQogICAgfSwNCg0KICAgICJtZWRpdW0uY3VycmVudFBhZ2UiOiB7DQogICAgICBoYW5kbGVyOiBmdW5jdGlvbih2YWwpIHsNCiAgICAgICAgdGhpcy5oYW5kbGVHZXRDb3Vyc2VzQnlUeXBlKHZhbCwgIm1lZGl1bSIpOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAiYWR2YW5jZS5jdXJyZW50UGFnZSI6IHsNCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKHZhbCkgew0KICAgICAgICB0aGlzLmhhbmRsZUdldENvdXJzZXNCeVR5cGUodmFsLCAiYWR2YW5jZWQiKTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgc2VhcmNoQ3VycmVudFBhZ2U6IGZ1bmN0aW9uKCkgew0KICAgICAgdGhpcy5oYW5kbGVTZWFyY2hDb3Vyc2UoKTsNCiAgICB9LA0KDQogICAgc2VhcmNoVGV4dDogZnVuY3Rpb24oKSB7DQogICAgICB0aGlzLmhhbmRsZVNlYXJjaENvdXJzZSgpOw0KICAgIH0NCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgc2hvd0RpYWxvZyhjb3Vyc2VJZCwgY291cnNlTmFtZSwgY291cnNlUHJpY2UpIHsNCiAgICAgIHRoaXMuY3VycmVudENvdXJzZUlkID0gY291cnNlSWQ7DQogICAgICB0aGlzLmN1cnJlbnRDb3Vyc2VOYW1lID0gY291cnNlTmFtZTsNCiAgICAgIHRoaXMuY3VycmVudENvdXJzZVByaWNlID0gY291cnNlUHJpY2U7DQogICAgICB0aGlzLmRpYWxvZyA9IHRydWU7DQogICAgfSwNCiAgICBvcGVuU2V0dGxlRGlhbG9nKCkgew0KICAgICAgY29uc3QgdWlkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKTsNCiAgICAgIGNyZWF0ZU9yZGVyKHVpZCwgdGhpcy5jdXJyZW50Q291cnNlSWQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAwKSB7DQogICAgICAgICAgdGhpcy5zbmFja0JhckNvbG9yID0gImVycm9yIjsNCiAgICAgICAgICB0aGlzLnNuYWNrQmFyTXNnID0gcmVzLm1zZzsNCiAgICAgICAgICB0aGlzLnNob3dTbmFja0JhciA9IHRydWU7DQogICAgICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOw0KICAgICAgICB0aGlzLnNldHRsZURpYWxvZyA9IHRydWU7DQogICAgICAgIHRoaXMuY3VycmVudE9yZGVyID0gcmVzLmRhdGE7DQoNCiAgICAgICAgZ2V0QXZhaWxhYmxlQ291cG9uc0Zvck9yZGVyKHRoaXMuY3VycmVudE9yZGVyLmlkKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgdGhpcy5zZWxlY3RlZENvdXBvbnMgPSB0aGlzLmN1cnJlbnRPcmRlci51c2VkQ291cG9ucw0KICAgICAgICAgICAgPyB0aGlzLmN1cnJlbnRPcmRlci51c2VkQ291cG9ucw0KICAgICAgICAgICAgOiBbXTsNCg0KICAgICAgICAgIHRoaXMuY291cG9ucyA9IFsuLi5yZXMuZGF0YSwgLi4udGhpcy5zZWxlY3RlZENvdXBvbnNdOyAvLyDlsIblvZPliY3lj6/nlKjnmoQg5ZKMIOW3sue7j+eUqOeahCDlkIjlubbotbfmnaXlsZXnpLrvvIzoi6XkuYvliY3liJvlu7rov4forqLljZXmsqHmnInku5jmrL7vvIzlho3mrKHov5vlhaXml7bpnIDopoHov5nmoLcNCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGhhbmRsZUdldENvdXJzZXNCeVR5cGUocGFnZSwgdHlwZSkgew0KICAgICAgY29uc3QgdWlkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKTsNCiAgICAgIGNvbnN0IHR5cGVNYXAgPSB7IHByaW1hcnk6ICLliJ3nuqciLCBtZWRpdW06ICLkuK3nuqciLCBhZHZhbmNlZDogIumrmOe6pyIgfTsNCiAgICAgIGdldENvdXJzZXNCeVR5cGUoeyB1aWQsIHR5cGU6IHR5cGVNYXBbdHlwZV0sIHBhZ2UgfSkudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzW3R5cGVdLnRvdGFsUGFnZSA9IHJlcy5wYWdlczsNCiAgICAgICAgdGhpc1t0eXBlXS5saXN0ID0gcmVzLmxpc3Q7DQogICAgICB9KTsNCiAgICB9LA0KDQogICAgaGFuZGxlU2VhcmNoQ291cnNlKCkgew0KICAgICAgY29uc3QgdWlkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKTsNCiAgICAgIGdldENvdXJzZXNCeUtleSh7DQogICAgICAgIHVpZCwNCiAgICAgICAga2V5OiB0aGlzLnNlYXJjaFRleHQsDQogICAgICAgIHBhZ2U6IHRoaXMuc2VhcmNoQ3VycmVudFBhZ2UNCiAgICAgIH0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5zZWFyY2hDb3Vyc2UgPSByZXMubGlzdDsNCiAgICAgICAgdGhpcy5zZWFyY2hUb3RhbFBhZ2UgPSByZXMucGFnZXM7DQogICAgICB9KTsNCiAgICB9LA0KDQogICAgaGFuZGxlSG90Q291cnNlKCkgew0KICAgICAgY29uc3QgdWlkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKTsNCiAgICAgIGdldEhvdENvdXJzZXModWlkKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMuaG90Q291cnNlTGlzdCA9IHJlcy5saXN0Ow0KICAgICAgfSk7DQogICAgfSwNCg0KICAgIGdldFVzZXJCb3VnaHRDb3Vyc2VzKCkgew0KICAgICAgY29uc3QgdWlkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKTsNCiAgICAgIGdldEJvdWdodENvdXJzZXModWlkKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMuYm91Z2h0Q291cnNlc0xpc3QgPSByZXMgfHwgW107DQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYm91Z2h0Q291cnNlc0xpc3QpDQoNCiAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLmJvdWdodENvdXJzZXNMaXN0Lmxlbmd0aDtpKyspew0KICAgICAgICAgIGNvbnNvbGUubG9nKCJpbiIpDQogICAgICAgICAgZ2V0VGVzdEJ5Q291cnNlKHRoaXMuYm91Z2h0Q291cnNlc0xpc3RbaV0uaWQpLnRoZW4ocmVzPT57DQogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpDQogICAgICAgICAgICBmb3IobGV0IGo9MDtqPHJlcy5sZW5ndGg7aisrKXsNCiAgICAgICAgICAgICAgdGhpcy50ZXN0TGlzdC5wdXNoKHJlc1tqXSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGVzdExpc3QpDQogICAgICB9KTsNCiAgICB9LA0KDQoNCiAgICBmZXRjaERhdGEoKSB7DQogICAgICBbInByaW1hcnkiLCAibWVkaXVtIiwgImFkdmFuY2VkIl0uZm9yRWFjaCh0ID0+IHsNCiAgICAgICAgdGhpcy5oYW5kbGVHZXRDb3Vyc2VzQnlUeXBlKDEsIHQpOw0KICAgICAgfSk7DQogICAgICB0aGlzLmhhbmRsZVNlYXJjaENvdXJzZSgpOw0KICAgICAgdGhpcy5nZXRVc2VyQm91Z2h0Q291cnNlcygpOw0KICAgICAgdGhpcy5oYW5kbGVIb3RDb3Vyc2UoKTsNCg0KICAgIH0sDQoNCiAgICBvblNlbGVjdENvdXBvbih7IGl0ZW0sIHZhbHVlIH0pIHsNCiAgICAgIGlmICh2YWx1ZSkgew0KICAgICAgICB1c2VDb3Vwb24odGhpcy5jdXJyZW50T3JkZXIsIGl0ZW0uaWQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICB0aGlzLnNuYWNrQmFyQ29sb3IgPSAic3VjY2VzcyI7DQogICAgICAgICAgdGhpcy5zbmFja0Jhck1zZyA9IHJlcy5tc2c7DQogICAgICAgICAgdGhpcy5zaG93U25hY2tCYXIgPSB0cnVlOw0KICAgICAgICAgIGdldE9yZGVyQnlJZCh0aGlzLmN1cnJlbnRPcmRlci5pZCkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgdGhpcy5jdXJyZW50T3JkZXIgPSByZXMuZGF0YTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBjYW5jZWxDb3Vwb24odGhpcy5jdXJyZW50T3JkZXIsIGl0ZW0uaWQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICB0aGlzLnNuYWNrQmFyQ29sb3IgPSAic3VjY2VzcyI7DQogICAgICAgICAgdGhpcy5zbmFja0Jhck1zZyA9IHJlcy5tc2c7DQogICAgICAgICAgdGhpcy5zaG93U25hY2tCYXIgPSB0cnVlOw0KICAgICAgICAgIGdldE9yZGVyQnlJZCh0aGlzLmN1cnJlbnRPcmRlci5pZCkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgdGhpcy5jdXJyZW50T3JkZXIgPSByZXMuZGF0YTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDor6Xmlrnms5Xnu5HlrprliLDkuobor77nqIvljaHniYznmoTlv4PlvaLmjInpkq7kuIoNCiAgICBzZXRMaWtlT3JEaXNsaWtlKGNvdXJzZUlkKSB7DQogICAgICBjb25zdCB1aWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpOw0KICAgICAgLy8g6YCa6L+H5LiA5Liq5o6l5Y+j5p2l6I635Y+W6K+l55So5oi35a+55b2T5YmN6K++56iL55qE54K56LWe5oOF5Ya177yM5qC55o2u57uT5p6c6L+b5YWl5LiN5ZCM55qE5YiG5pSvDQogICAgICAvLyBUT0RPIEFkZCB5b3VyIGNvZGUgaGVyZQ0KICAgICAgZ2V0Q291cnNlQnlJZCh7IGNvdXJzZUlkLCB1aWQgfSkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLmxpa2VkKSB7DQogICAgICAgICAgLy8g5YiG5pSvMu+8muiLpeW9k+WJjeeUqOaIt+W3sue7j+S4uuivpeivvueoi+eCuei/h+i1nuS6hu+8jOWImeiwg+eUqOWPlua2iOeCuei1nuaOpeWPo+WujOaIkOebuOWFs+aTjeS9nO+8jOWPr+S7peS7v+eFp+WIhuaUrzHnmoTnpLrkvovov5vooYwNCiAgICAgICAgICAvLyBUT0RPIEFkZCB5b3VyIGNvZGUgaGVyZQ0KICAgICAgICAgIHNldENvdXJzZURpc2xpa2UodWlkLCBjb3Vyc2VJZCkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAxKSB7DQogICAgICAgICAgICAgIHRoaXMuc25hY2tCYXJNc2cgPSByZXMubXNnOw0KICAgICAgICAgICAgICB0aGlzLnNuYWNrQmFyQ29sb3IgPSAic3VjY2VzcyI7DQogICAgICAgICAgICAgIHRoaXMuc2hvd1NuYWNrQmFyID0gdHJ1ZTsNCiAgICAgICAgICAgICAgdGhpcy5mZXRjaERhdGEoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAvLyDliIbmlK8x77ya6Iul5b2T5YmN55So5oi35rKh5pyJ5a+56K+l6K++56iL54K56LWe5YiZ6LCD55So54K56LWe5o6l5Y+jDQogICAgICAgICAgc2V0Q291cnNlTGlrZSh1aWQsIGNvdXJzZUlkKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDEpIHsNCiAgICAgICAgICAgICAgLy/ngrnotZ7miJDlip/vvIzorr7nva7mj5DnpLrmnaHnmoTlhoXlrrnvvIzpopzoibLvvIzlubbmmL7npLoNCiAgICAgICAgICAgICAgdGhpcy5zbmFja0Jhck1zZyA9IHJlcy5tc2c7DQogICAgICAgICAgICAgIHRoaXMuc25hY2tCYXJDb2xvciA9ICJzdWNjZXNzIjsNCiAgICAgICAgICAgICAgdGhpcy5zaG93U25hY2tCYXIgPSB0cnVlOw0KICAgICAgICAgICAgICAvLyDngrnotZ7miJDlip/lkI7vvIzor77nqIvnmoTngrnotZ7mlbDkvJrlj5jljJbvvIzkuZ/kvJrlvbHlk43ng63pl6jor77nqIvnmoTmjpLluo/vvIzlm6DmraTosIPnlKjku6XkuIvmlrnms5Xmm7TmlrDpobXpnaLkuK3nmoTmlbDmja4NCiAgICAgICAgICAgICAgdGhpcy5mZXRjaERhdGEoKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIC8vIOeCuei1nuWksei0pe+8jOiuvue9ruaPkOekuuadoeeahOWGheWuueOAgeminOiJsu+8jOW5tuaYvuekuuOAguebruWJjei/memHjOaYvuekuueahOWGheWuueaYr++8miDngrnotZ7lpLHotKXjgIHor7fli7/ph43lpI3ngrnotZ7jgIINCiAgICAgICAgICAgICAgLy8g5aaC5p6c5L2g55qE5Luj56CB5a6e546w5q2j56Gu77yI5Lul5Y+K5ZCO56uv5Luj56CB77yJIOW6lOW9k+S4jeS8muWHuueOsOi/meenjeaDheWGteOAgg0KICAgICAgICAgICAgICAvLyDljp/lm6DmmK/lnKjph43lpI3ngrnotZ7liY3vvIzkvaDlupTlvZPlnKjov5nph4zlt7Lnu4/liKTmlq3lh7rngrnov4fotZ7vvIzlm6DmraTlupTlvZPot7PovazliLDliIbmlK8y5Y675omn6KGM5Y+W5raI54K56LWe55qE6YC76L6RDQogICAgICAgICAgICAgIHRoaXMuc25hY2tCYXJNc2cgPSByZXMubXNnOw0KICAgICAgICAgICAgICB0aGlzLnNuYWNrQmFyQ29sb3IgPSAid2FybmluZyI7DQogICAgICAgICAgICAgIHRoaXMuc2hvd1NuYWNrQmFyID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBjb25maXJtUGF5bWVudCgpIHsNCiAgICAgIHRoaXMuc2V0dGxlRGlhbG9nID0gZmFsc2U7DQogICAgICBwYXlPcmRlcih0aGlzLmN1cnJlbnRPcmRlci5pZCkudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLnNuYWNrQmFyQ29sb3IgPSAic3VjY2VzcyI7DQogICAgICAgIHRoaXMuc25hY2tCYXJNc2cgPSByZXMubXNnOw0KICAgICAgICB0aGlzLnNob3dTbmFja0JhciA9IHRydWU7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGxlYXZlU2V0dGxlbWVudCgpIHsNCiAgICAgIHRoaXMuY3VycmVudE9yZGVyID0ge307DQogICAgICB0aGlzLmN1cnJlbnRDb3Vyc2VJZCA9IDA7DQogICAgICB0aGlzLmN1cnJlbnRDb3Vyc2VQcmljZSA9IDA7DQogICAgICB0aGlzLmN1cnJlbnRDb3Vyc2VOYW1lID0gIiI7DQogICAgICB0aGlzLmNvdXBvbnMgPSBbXTsNCiAgICAgIHRoaXMuc2VsZWN0ZWRDb3Vwb25zID0gW107DQogICAgICB0aGlzLnNldHRsZURpYWxvZyA9IGZhbHNlOw0KICAgIH0NCiAgfSwNCg0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZmV0Y2hEYXRhKCk7DQogIH0NCn07DQo="},{"version":3,"sources":["CourseList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"CourseList.vue","sourceRoot":"src/views/student","sourcesContent":["<template>\r\n  <div>\r\n    <v-container class=\"ma-8 pa-4\">\r\n      <!-- 热门课程 -->\r\n      <v-row class=\"mt-8 mb-2\">\r\n        <v-chip\r\n          class=\"ma-2\"\r\n          color=\"deep-purple lighten-3\"\r\n          label\r\n          text-color=\"white\"\r\n        >\r\n          <v-icon left>\r\n            mdi-label\r\n          </v-icon>\r\n          热门课程\r\n        </v-chip>\r\n      </v-row>\r\n      <v-row>\r\n        <course-item\r\n          cols=\"12\"\r\n          md=\"4\"\r\n          v-for=\"course in hotCourseList\"\r\n          :key=\"course.id\"\r\n          :courseName=\"course.name\"\r\n          :courseId=\"course.id\"\r\n          :description=\"course.intro\"\r\n          :type=\"course.type\"\r\n          :cost=\"course.cost\"\r\n          :bought=\"course.bought\"\r\n          :manageable=\"course.manageable\"\r\n          :course-color=\"colorList[course.id % colorList.length]\"\r\n          :course-likes=\"course.likes\"\r\n          :liked=\"course.liked\"\r\n          @buy-course=\"showDialog\"\r\n          @set-like=\"setLikeOrDislike\"\r\n        >\r\n        </course-item>\r\n      </v-row>\r\n\r\n      <template>\r\n        <!-- 分类课程 -->\r\n        <v-row class=\"mt-2 mb-8\">\r\n          <v-chip\r\n            class=\"ma-2\"\r\n            color=\"deep-purple lighten-3\"\r\n            label\r\n            text-color=\"white\"\r\n          >\r\n            <v-icon left>\r\n              mdi-label\r\n            </v-icon>\r\n            分类课程\r\n          </v-chip>\r\n        </v-row>\r\n        <v-card>\r\n          <v-tabs color=\"deep-purple accent-4\" right v-model=\"currentTab\">\r\n            <v-tab>初级课程</v-tab>\r\n            <v-tab>中级课程</v-tab>\r\n            <v-tab>高级课程</v-tab>\r\n\r\n            <v-tab-item v-for=\"c in [primary, medium, advanced]\" :key=\"c.name\">\r\n              <v-container fluid>\r\n                <v-row class=\"ma-4\">\r\n                  <course-item\r\n                    cols=\"12\"\r\n                    md=\"4\"\r\n                    v-for=\"course in c.list\"\r\n                    :key=\"course.id\"\r\n                    :courseName=\"course.name\"\r\n                    :courseId=\"course.id\"\r\n                    :description=\"course.intro\"\r\n                    :type=\"course.type\"\r\n                    :cost=\"course.cost\"\r\n                    :bought=\"course.bought\"\r\n                    :manageable=\"course.manageable\"\r\n                    :course-color=\"colorList[course.id % colorList.length]\"\r\n                    :course-likes=\"course.likes\"\r\n                    :liked=\"course.liked\"\r\n                    @buy-course=\"showDialog\"\r\n                    @set-like=\"setLikeOrDislike\"\r\n                  >\r\n                  </course-item>\r\n                </v-row>\r\n                <v-pagination\r\n                  v-model=\"c.currentPage\"\r\n                  :length=\"c.totalPage\"\r\n                  circle\r\n                ></v-pagination>\r\n              </v-container>\r\n            </v-tab-item>\r\n          </v-tabs>\r\n        </v-card>\r\n      </template>\r\n\r\n      <v-row class=\"ma-12\">\r\n        <v-divider></v-divider>\r\n      </v-row>\r\n\r\n      <!-- 搜索课程 -->\r\n      <v-row class=\"mt-10\">\r\n        <v-col>\r\n          <v-chip color=\"deep-purple lighten-3\" label text-color=\"white\">\r\n            <v-icon left>\r\n              mdi-label\r\n            </v-icon>\r\n            搜索课程\r\n          </v-chip>\r\n        </v-col>\r\n        <v-col>\r\n          <v-text-field\r\n            v-model=\"searchText\"\r\n            outlined\r\n            label=\"搜索课程\"\r\n            append-icon=\"mdi-magnify\"\r\n          ></v-text-field>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <course-item\r\n          cols=\"12\"\r\n          md=\"4\"\r\n          v-for=\"course in searchCourse\"\r\n          :key=\"course.id\"\r\n          :courseName=\"course.name\"\r\n          :courseId=\"course.id\"\r\n          :description=\"course.intro\"\r\n          :type=\"course.type\"\r\n          :cost=\"course.cost\"\r\n          :bought=\"course.bought\"\r\n          :manageable=\"course.manageable\"\r\n          :course-color=\"colorList[course.id % colorList.length]\"\r\n          :course-likes=\"course.likes\"\r\n          :liked=\"course.liked\"\r\n          @buy-course=\"showDialog\"\r\n          @set-like=\"setLikeOrDislike\"\r\n        >\r\n        </course-item>\r\n      </v-row>\r\n      <v-row class=\"d-flex justify-center\">\r\n        <v-pagination\r\n          class=\"mt-4\"\r\n          v-model=\"searchCurrentPage\"\r\n          :length=\"searchTotalPage\"\r\n          circle\r\n        ></v-pagination>\r\n      </v-row>\r\n\r\n      <v-row class=\"ma-12\">\r\n        <v-divider></v-divider>\r\n      </v-row>\r\n\r\n      <!-- 已购课程 -->\r\n      <v-row class=\"mt-8 mb-2\">\r\n        <v-chip\r\n          class=\"ma-2\"\r\n          color=\"deep-purple lighten-3\"\r\n          label\r\n          text-color=\"white\"\r\n        >\r\n          <v-icon left>\r\n            mdi-label\r\n          </v-icon>\r\n          我的已购课程\r\n        </v-chip>\r\n      </v-row>\r\n      <v-row>\r\n        <course-item\r\n          cols=\"12\"\r\n          md=\"4\"\r\n          v-for=\"course in boughtCoursesList\"\r\n          :key=\"course.id\"\r\n          :courseName=\"course.name\"\r\n          :courseId=\"course.id\"\r\n          :description=\"course.intro\"\r\n          :type=\"course.type\"\r\n          :cost=\"course.cost\"\r\n          :bought=\"course.bought\"\r\n          :manageable=\"course.manageable\"\r\n          :course-color=\"colorList[course.id % colorList.length]\"\r\n          :course-likes=\"course.likes\"\r\n          :liked=\"course.liked\"\r\n          @buy-course=\"showDialog\"\r\n          @set-like=\"setLikeOrDislike\"\r\n        >\r\n        </course-item>\r\n      </v-row>\r\n      <v-row class=\"mt-8 mb-2\">\r\n        <v-chip\r\n            class=\"ma-2\"\r\n            color=\"deep-purple lighten-3\"\r\n            label\r\n            text-color=\"white\"\r\n        >\r\n          <v-icon left>\r\n            mdi-label\r\n          </v-icon>\r\n          我的测试\r\n        </v-chip>\r\n      </v-row>\r\n      <v-row>\r\n        <test-item\r\n            v-for=\"test in testList\"\r\n            :key=\"test.id\"\r\n            :test-name=\"test.testName\"\r\n            :test-id=\"test.id\"\r\n            :end-time=\"test.endTime\"\r\n            :start-time=\"test.startTime\"\r\n            :test-state=\"test.state\"\r\n            :test-length=\"test.length\"\r\n            :course-name=\"test.courseName\"\r\n        ></test-item>\r\n      </v-row>\r\n    </v-container>\r\n\r\n    <!-- 购买提示对话框 -->\r\n    <v-dialog v-model=\"dialog\" width=\"1000\">\r\n      <v-card>\r\n        <v-card-title>购买信息确认</v-card-title>\r\n        <v-card-text> 是否购买课程 「{{ currentCourseName }}」？ </v-card-text>\r\n\r\n        <v-divider></v-divider>\r\n\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"primary\" text @click=\"openSettleDialog\">\r\n            选择结算方案\r\n          </v-btn>\r\n          <v-btn color=\"primary\" text @click=\"dialog = false\">\r\n            取消\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <v-dialog v-model=\"settleDialog\" width=\"1000\">\r\n      <v-card>\r\n        <v-card-title v-if=\"msg\">{{ msg }}</v-card-title>\r\n        <div v-else>\r\n          <v-card-title>优惠券选择</v-card-title>\r\n          <v-data-table\r\n            v-model=\"selectedCoupons\"\r\n            :headers=\"couponHeaders\"\r\n            :items=\"coupons\"\r\n            class=\"elevation-1\"\r\n            show-select\r\n            @item-selected=\"onSelectCoupon\"\r\n          >\r\n            <template #header.data-table-select></template>\r\n          </v-data-table>\r\n          <v-row justify=\"center\" class=\"mt-5\"> </v-row>\r\n          <v-card-actions class=\"justify-space-around d-flex\">\r\n            <v-alert type=\"info\">课程原价： {{ currentOrder.origin }}</v-alert>\r\n            <v-alert type=\"success\">实际付款： {{ currentOrder.cost }}</v-alert>\r\n            <v-btn color=\"primary\" @click=\"confirmPayment\">确认支付</v-btn>\r\n            <v-btn color=\"secondary\" @click=\"leaveSettlement\">离开</v-btn>\r\n          </v-card-actions>\r\n        </div>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <!-- 购买结果 -->\r\n    <v-dialog v-model=\"dialog2\" width=\"500\">\r\n      <v-card>\r\n        <v-card-title>购买课程</v-card-title>\r\n\r\n        <v-card-text>\r\n          {{ msg }}\r\n        </v-card-text>\r\n\r\n        <v-divider></v-divider>\r\n\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"primary\" text @click=\"dialog2 = false\">\r\n            确认\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n    <v-snackbar v-model=\"showSnackBar\" :color=\"snackBarColor\" top>\r\n      {{ snackBarMsg }}\r\n    </v-snackbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CourseItem from \"@/components/CourseItem.vue\";\r\nimport TestItem from \"@/components/TestItem\";\r\nimport {\r\n  getCoursesByType,\r\n  getCoursesByKey,\r\n  getBoughtCourses,\r\n  getHotCourses,\r\n  setCourseLike,\r\n  getCourseById,\r\n  setCourseDislike\r\n} from \"@/api/course\";\r\nimport {\r\n  cancelCoupon,\r\n  createOrder,\r\n  getOrderById,\r\n  payOrder,\r\n  useCoupon\r\n} from \"@/api/order\";\r\nimport { getAvailableCouponsForOrder } from \"@/api/coupon\";\r\nimport {getTestByCourse} from \"@/api/test\";\r\n\r\nexport default {\r\n  name: \"StudentCourseList\",\r\n\r\n  components: {\r\n    CourseItem,\r\n    TestItem\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      dialog2: false,\r\n      msg: \"\",\r\n      currentCourseId: 0,\r\n      currentCourseName: \"\",\r\n      currentCoursePrice: 0,\r\n      colorList: [\"#26A69A\", \"#00B0FF\", \"#5C6BC0\", \"#FFB300\", \"#E57373\"],\r\n      currentTab: 0, // 0 1 2\r\n      primary: {\r\n        name: \"初级\",\r\n        totalPage: 1,\r\n        currentPage: 1,\r\n        list: []\r\n      },\r\n      medium: {\r\n        name: \"中级\",\r\n        totalPage: 1,\r\n        currentPage: 1,\r\n        list: []\r\n      },\r\n      advanced: {\r\n        name: \"高级\",\r\n        totalPage: 1,\r\n        currentPage: 1,\r\n        list: []\r\n      },\r\n      searchText: \"\",\r\n      searchCourse: [],\r\n      searchTotalPage: 1,\r\n      searchCurrentPage: 1,\r\n      //\r\n      boughtCoursesList: [],\r\n      hotCourseList: [],\r\n      showSnackBar: false,\r\n      snackBarMsg: \"\",\r\n      snackBarColor: \"success\",\r\n      couponHeaders: [\r\n        {\r\n          text: \"优惠券名称\",\r\n          value: \"name\"\r\n        },\r\n        {\r\n          text: \"优惠券类型\",\r\n          value: \"type\"\r\n        },\r\n        {\r\n          text: \"优惠券描述\",\r\n          value: \"description\"\r\n        },\r\n        {\r\n          text: \"元数据\",\r\n          value: \"metadata\"\r\n        },\r\n        {\r\n          text: \"与其他优惠券同时使用\",\r\n          value: \"sharable\"\r\n        }\r\n      ],\r\n      coupons: [],\r\n      selectedCoupons: [],\r\n      settleDialog: false,\r\n      currentOrder: {},\r\n      testList:[],\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    \"primary.currentPage\": {\r\n      handler: function(val) {\r\n        this.handleGetCoursesByType(val, \"primary\");\r\n      }\r\n    },\r\n\r\n    \"medium.currentPage\": {\r\n      handler: function(val) {\r\n        this.handleGetCoursesByType(val, \"medium\");\r\n      }\r\n    },\r\n\r\n    \"advance.currentPage\": {\r\n      handler: function(val) {\r\n        this.handleGetCoursesByType(val, \"advanced\");\r\n      }\r\n    },\r\n\r\n    searchCurrentPage: function() {\r\n      this.handleSearchCourse();\r\n    },\r\n\r\n    searchText: function() {\r\n      this.handleSearchCourse();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    showDialog(courseId, courseName, coursePrice) {\r\n      this.currentCourseId = courseId;\r\n      this.currentCourseName = courseName;\r\n      this.currentCoursePrice = coursePrice;\r\n      this.dialog = true;\r\n    },\r\n    openSettleDialog() {\r\n      const uid = window.localStorage.getItem(\"userId\");\r\n      createOrder(uid, this.currentCourseId).then(res => {\r\n        if (res.code === 0) {\r\n          this.snackBarColor = \"error\";\r\n          this.snackBarMsg = res.msg;\r\n          this.showSnackBar = true;\r\n          this.dialog = false;\r\n          return;\r\n        }\r\n\r\n        this.dialog = false;\r\n        this.settleDialog = true;\r\n        this.currentOrder = res.data;\r\n\r\n        getAvailableCouponsForOrder(this.currentOrder.id).then(res => {\r\n          this.selectedCoupons = this.currentOrder.usedCoupons\r\n            ? this.currentOrder.usedCoupons\r\n            : [];\r\n\r\n          this.coupons = [...res.data, ...this.selectedCoupons]; // 将当前可用的 和 已经用的 合并起来展示，若之前创建过订单没有付款，再次进入时需要这样\r\n        });\r\n      });\r\n    },\r\n    handleGetCoursesByType(page, type) {\r\n      const uid = window.localStorage.getItem(\"userId\");\r\n      const typeMap = { primary: \"初级\", medium: \"中级\", advanced: \"高级\" };\r\n      getCoursesByType({ uid, type: typeMap[type], page }).then(res => {\r\n        this[type].totalPage = res.pages;\r\n        this[type].list = res.list;\r\n      });\r\n    },\r\n\r\n    handleSearchCourse() {\r\n      const uid = window.localStorage.getItem(\"userId\");\r\n      getCoursesByKey({\r\n        uid,\r\n        key: this.searchText,\r\n        page: this.searchCurrentPage\r\n      }).then(res => {\r\n        this.searchCourse = res.list;\r\n        this.searchTotalPage = res.pages;\r\n      });\r\n    },\r\n\r\n    handleHotCourse() {\r\n      const uid = window.localStorage.getItem(\"userId\");\r\n      getHotCourses(uid).then(res => {\r\n        this.hotCourseList = res.list;\r\n      });\r\n    },\r\n\r\n    getUserBoughtCourses() {\r\n      const uid = window.localStorage.getItem(\"userId\");\r\n      getBoughtCourses(uid).then(res => {\r\n        this.boughtCoursesList = res || [];\r\n        console.log(this.boughtCoursesList)\r\n\r\n        for(let i=0;i<this.boughtCoursesList.length;i++){\r\n          console.log(\"in\")\r\n          getTestByCourse(this.boughtCoursesList[i].id).then(res=>{\r\n            console.log(res)\r\n            for(let j=0;j<res.length;j++){\r\n              this.testList.push(res[j])\r\n            }\r\n          })\r\n        }\r\n        console.log(this.testList)\r\n      });\r\n    },\r\n\r\n\r\n    fetchData() {\r\n      [\"primary\", \"medium\", \"advanced\"].forEach(t => {\r\n        this.handleGetCoursesByType(1, t);\r\n      });\r\n      this.handleSearchCourse();\r\n      this.getUserBoughtCourses();\r\n      this.handleHotCourse();\r\n\r\n    },\r\n\r\n    onSelectCoupon({ item, value }) {\r\n      if (value) {\r\n        useCoupon(this.currentOrder, item.id).then(res => {\r\n          this.snackBarColor = \"success\";\r\n          this.snackBarMsg = res.msg;\r\n          this.showSnackBar = true;\r\n          getOrderById(this.currentOrder.id).then(res => {\r\n            this.currentOrder = res.data;\r\n          });\r\n        });\r\n      } else {\r\n        cancelCoupon(this.currentOrder, item.id).then(res => {\r\n          this.snackBarColor = \"success\";\r\n          this.snackBarMsg = res.msg;\r\n          this.showSnackBar = true;\r\n          getOrderById(this.currentOrder.id).then(res => {\r\n            this.currentOrder = res.data;\r\n          });\r\n        });\r\n      }\r\n    },\r\n    // 该方法绑定到了课程卡牌的心形按钮上\r\n    setLikeOrDislike(courseId) {\r\n      const uid = window.localStorage.getItem(\"userId\");\r\n      // 通过一个接口来获取该用户对当前课程的点赞情况，根据结果进入不同的分支\r\n      // TODO Add your code here\r\n      getCourseById({ courseId, uid }).then(res => {\r\n        if (res.liked) {\r\n          // 分支2：若当前用户已经为该课程点过赞了，则调用取消点赞接口完成相关操作，可以仿照分支1的示例进行\r\n          // TODO Add your code here\r\n          setCourseDislike(uid, courseId).then(res => {\r\n            if (res.code === 1) {\r\n              this.snackBarMsg = res.msg;\r\n              this.snackBarColor = \"success\";\r\n              this.showSnackBar = true;\r\n              this.fetchData();\r\n            }\r\n          });\r\n        } else {\r\n          // 分支1：若当前用户没有对该课程点赞则调用点赞接口\r\n          setCourseLike(uid, courseId).then(res => {\r\n            if (res.code === 1) {\r\n              //点赞成功，设置提示条的内容，颜色，并显示\r\n              this.snackBarMsg = res.msg;\r\n              this.snackBarColor = \"success\";\r\n              this.showSnackBar = true;\r\n              // 点赞成功后，课程的点赞数会变化，也会影响热门课程的排序，因此调用以下方法更新页面中的数据\r\n              this.fetchData();\r\n            } else {\r\n              // 点赞失败，设置提示条的内容、颜色，并显示。目前这里显示的内容是： 点赞失败、请勿重复点赞。\r\n              // 如果你的代码实现正确（以及后端代码） 应当不会出现这种情况。\r\n              // 原因是在重复点赞前，你应当在这里已经判断出点过赞，因此应当跳转到分支2去执行取消点赞的逻辑\r\n              this.snackBarMsg = res.msg;\r\n              this.snackBarColor = \"warning\";\r\n              this.showSnackBar = true;\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    confirmPayment() {\r\n      this.settleDialog = false;\r\n      payOrder(this.currentOrder.id).then(res => {\r\n        this.snackBarColor = \"success\";\r\n        this.snackBarMsg = res.msg;\r\n        this.showSnackBar = true;\r\n      });\r\n    },\r\n    leaveSettlement() {\r\n      this.currentOrder = {};\r\n      this.currentCourseId = 0;\r\n      this.currentCoursePrice = 0;\r\n      this.currentCourseName = \"\";\r\n      this.coupons = [];\r\n      this.selectedCoupons = [];\r\n      this.settleDialog = false;\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.fetchData();\r\n  }\r\n};\r\n</script>\r\n"]}]}