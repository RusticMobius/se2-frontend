{"remainingRequest":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/src/components/TestItem.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/src/components/TestItem.vue","mtime":1625889112499},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoewogIG5hbWU6ICJUZXN0SXRlbSIsCiAgcHJvcHM6ewogICAgY291cnNlTmFtZTogewogICAgICB0eXBlOlN0cmluZywKICAgICAgZGVmYXVsdDpudWxsLAogICAgfSwKICAgIHRlc3ROYW1lOnsKICAgICAgdHlwZTpTdHJpbmcsCiAgICAgIGRlZmF1bHQ6bnVsbCwKICAgIH0sCiAgICBzdGFydFRpbWU6ewogICAgICB0eXBlOk51bWJlciwKICAgICAgZGVmYXVsdDpudWxsLAogICAgfSwKICAgIGVuZFRpbWU6ewogICAgICB0eXBlOk51bWJlciwKICAgICAgZGVmYXVsdDpudWxsLAogICAgfSwKICAgIHRlc3RJZDp7CiAgICAgIHR5cGU6TnVtYmVyLAogICAgICBkZWZhdWx0OjEsCiAgICB9LAogICAgdGVzdExlbmd0aDp7CiAgICAgIHR5cGU6TnVtYmVyLAogICAgICBkZWZhdWx0OjAsCiAgICB9CiAgfSwKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIHRlc3RTdGF0ZTp0cnVlLAogICAgICBzdGF0ZUNvbG9yOm51bGwsCiAgICAgIHRlc3RDb2xvcjpudWxsLAogICAgICBmb3JtYXRTdGFydFRpbWU6bnVsbCwKICAgICAgZm9ybWF0RW5kVGltZTpudWxsLAogICAgICBzdGF0ZUxhYmVsOm51bGwsCiAgICAgIHNob3dUZXN0QWN0aW9uOnRydWUsCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdmFyIGRhdGU9KG5ldyBEYXRlKCkpLmdldFRpbWUoKTsKICAgIGlmKGRhdGU+dGhpcy5lbmRUaW1lKXsKICAgICAgdGhpcy50ZXN0U3RhdGU9ZmFsc2U7CiAgICAgIHRoaXMuc3RhdGVMYWJlbD0i5bey57uT5p2fIgogICAgICB0aGlzLnNob3dUZXN0QWN0aW9uPXRydWU7CiAgICB9CiAgICBlbHNlIGlmKGRhdGU8dGhpcy5zdGFydFRpbWUpewogICAgICB0aGlzLnRlc3RTdGF0ZT1mYWxzZTsKICAgICAgdGhpcy5zdGF0ZUxhYmVsPSLmnKrlvIDmlL4iCiAgICAgIHRoaXMuc2hvd1Rlc3RBY3Rpb249ZmFsc2U7CiAgICB9ZWxzZXsKICAgICAgdGhpcy50ZXN0U3RhdGU9dHJ1ZTsKICAgICAgdGhpcy5zdGF0ZUxhYmVsPSLov5vooYwiCiAgICAgIHRoaXMuc2hvd1Rlc3RBY3Rpb249dHJ1ZTsKICAgIH0KICAgIGlmKHRoaXMuc3RhdGVMYWJlbD09PSLlt7Lnu5PmnZ8iKXsKICAgICAgdGhpcy5zdGF0ZUNvbG9yPSJvcmFuZ2UiOwogICAgICB0aGlzLnRlc3RDb2xvcj0iIzlGQThEQSI7CiAgICB9ZWxzZSBpZih0aGlzLnN0YXRlTGFiZWw9PT0i5pyq5byA5pS+Iil7CiAgICAgIHRoaXMuc3RhdGVDb2xvcj0iIzAwQkNENCAiOwogICAgICB0aGlzLnRlc3RDb2xvcj0iI0NFOTNEOCI7CiAgICB9ZWxzZXsKICAgICAgdGhpcy5zdGF0ZUNvbG9yPSJpbmRpZ28iOwogICAgICB0aGlzLnRlc3RDb2xvcj0ibGlnaHQtYmx1ZSBsaWdodGVuLTEiOwogICAgfQoKICAgIHRoaXMuZm9ybWF0U3RhcnRUaW1lPXRoaXMuc3RhbXBDb252ZXJ0VG9EYXRlKHRoaXMuc3RhcnRUaW1lKTsKICAgIHRoaXMuZm9ybWF0RW5kVGltZT10aGlzLnN0YW1wQ29udmVydFRvRGF0ZSh0aGlzLmVuZFRpbWUpOwogIH0sCiAgbWV0aG9kczp7CiAgICBzdGFtcENvbnZlcnRUb0RhdGUoc3RhbXApewogICAgICBsZXQgdGltZT1uZXcgRGF0ZShzdGFtcCk7CiAgICAgIHZhciB5ZWFyID0gdGltZS5nZXRGdWxsWWVhcigpOwogICAgICB2YXIgbW9udGggPXRpbWUuZ2V0TW9udGgoKSsxOwogICAgICBsZXQgbSA9IG1vbnRoPDEwPyAoJzAnK21vbnRoKTptb250aDsKICAgICAgdmFyIGRhdGUgPXRpbWUuZ2V0RGF0ZSgpOwogICAgICBsZXQgZCA9IGRhdGU8MTA/ICgnMCcrZGF0ZSk6ZGF0ZTsKICAgICAgdmFyIGhvdXIgPXRpbWUuZ2V0SG91cnMoKTsKICAgICAgbGV0IGg9IGhvdXI8MTA/ICgnMCcraG91cik6aG91cjsKICAgICAgdmFyIG1pbnV0ZSA9IHRpbWUuZ2V0TWludXRlcygpOwogICAgICBsZXQgbW0gPSBtaW51dGUgPCAxMCA/ICgiMCIgKyBtaW51dGUpIDogbWludXRlOwogICAgICB2YXIgc2Vjb25kPXRpbWUuZ2V0U2Vjb25kcygpOwogICAgICBsZXQgcyA9IHNlY29uZCA8IDEwID8gKCIwIiArIHNlY29uZCkgOiBzZWNvbmQ7CiAgICAgIHZhciBzdHIgPXllYXIgKyAiLSIgKyBtICsgIi0iICsgZCsiICIraCsiOiIrbW0rIjoiK3M7CiAgICAgIC8vY29uc29sZS5sb2coc3RyKTsKICAgICAgcmV0dXJuIHN0cjsKICAgIH0sCiAgICBkYXRlQ29udmVydFRvU3RhbXAoZGF0ZSl7CiAgICAgIGRhdGU9IGRhdGUucmVwbGFjZShuZXcgUmVnRXhwKCItIiwiZ20iKSwiLyIpOwogICAgICB2YXIgc3RhbXAgPSAobmV3IERhdGUoZGF0ZSkpLmdldFRpbWUoKTsgLy/lvpfliLDmr6vnp5LmlbAKICAgICAgY29uc29sZS5sb2coc3RhbXApOwogICAgICByZXR1cm4gc3RhbXA7CiAgICB9CiAgfQp9KQo="},{"version":3,"sources":["TestItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TestItem.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card dark width=\"380\" height=\"260\" class=\"ma-4 pa-2\" :color=\"testColor\">\n    <v-card-title class=\"title\">\n      <v-chip\n\n          dark :color=\"stateColor\" small\n              class=\" mr-4 \" >{{stateLabel}}\n      </v-chip> {{testName}}  (共 {{testLength}} 题)</v-card-title>\n    <v-card-text class=\"ml-4 pa-2 \" >\n      课程：《{{courseName}}》\n    </v-card-text>\n    <v-card-text class=\"ml-4 pa-2\">\n      起始时间：{{formatStartTime}}\n    </v-card-text>\n    <v-card-text class=\"ml-4 pa-2\">\n      结束时间：{{formatEndTime}}\n    </v-card-text>\n    <v-card-actions v-if=\"showTestAction\">\n      <router-link :to=\"{path:`/student/testing/${testId}`,query:{state:testState}}\">\n        <v-btn text >{{testState? \"进入考试\":\"查看结果\"}}</v-btn>\n      </router-link>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\nexport default Vue.extend({\n  name: \"TestItem\",\n  props:{\n    courseName: {\n      type:String,\n      default:null,\n    },\n    testName:{\n      type:String,\n      default:null,\n    },\n    startTime:{\n      type:Number,\n      default:null,\n    },\n    endTime:{\n      type:Number,\n      default:null,\n    },\n    testId:{\n      type:Number,\n      default:1,\n    },\n    testLength:{\n      type:Number,\n      default:0,\n    }\n  },\n  data(){\n    return{\n      testState:true,\n      stateColor:null,\n      testColor:null,\n      formatStartTime:null,\n      formatEndTime:null,\n      stateLabel:null,\n      showTestAction:true,\n    }\n  },\n  mounted() {\n    var date=(new Date()).getTime();\n    if(date>this.endTime){\n      this.testState=false;\n      this.stateLabel=\"已结束\"\n      this.showTestAction=true;\n    }\n    else if(date<this.startTime){\n      this.testState=false;\n      this.stateLabel=\"未开放\"\n      this.showTestAction=false;\n    }else{\n      this.testState=true;\n      this.stateLabel=\"进行\"\n      this.showTestAction=true;\n    }\n    if(this.stateLabel===\"已结束\"){\n      this.stateColor=\"orange\";\n      this.testColor=\"#9FA8DA\";\n    }else if(this.stateLabel===\"未开放\"){\n      this.stateColor=\"#00BCD4 \";\n      this.testColor=\"#CE93D8\";\n    }else{\n      this.stateColor=\"indigo\";\n      this.testColor=\"light-blue lighten-1\";\n    }\n\n    this.formatStartTime=this.stampConvertToDate(this.startTime);\n    this.formatEndTime=this.stampConvertToDate(this.endTime);\n  },\n  methods:{\n    stampConvertToDate(stamp){\n      let time=new Date(stamp);\n      var year = time.getFullYear();\n      var month =time.getMonth()+1;\n      let m = month<10? ('0'+month):month;\n      var date =time.getDate();\n      let d = date<10? ('0'+date):date;\n      var hour =time.getHours();\n      let h= hour<10? ('0'+hour):hour;\n      var minute = time.getMinutes();\n      let mm = minute < 10 ? (\"0\" + minute) : minute;\n      var second=time.getSeconds();\n      let s = second < 10 ? (\"0\" + second) : second;\n      var str =year + \"-\" + m + \"-\" + d+\" \"+h+\":\"+mm+\":\"+s;\n      //console.log(str);\n      return str;\n    },\n    dateConvertToStamp(date){\n      date= date.replace(new RegExp(\"-\",\"gm\"),\"/\");\n      var stamp = (new Date(date)).getTime(); //得到毫秒数\n      console.log(stamp);\n      return stamp;\n    }\n  }\n})\n</script>\n\n<style scoped>\n\n</style>"]}]}