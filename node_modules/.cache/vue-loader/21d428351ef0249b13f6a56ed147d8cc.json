{"remainingRequest":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/src/components/CourseItem.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/src/components/CourseItem.vue","mtime":1623004837888},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQppbXBvcnQgVnVlIGZyb20gInZ1ZSI7DQoNCmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoew0KICBuYW1lOiAiQ291cnNlSXRlbSIsDQogIHByb3BzOiB7DQogICAgY291cnNlTmFtZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogIlN1YmplY3ROYW1lIg0KICAgIH0sDQogICAgY291cnNlSWQ6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDANCiAgICB9LA0KICAgIGRlc2NyaXB0aW9uOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAi6K++56iL566A5LuLIg0KICAgIH0sDQogICAgdHlwZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogIuWInee6pyINCiAgICB9LA0KICAgIGNvc3Q6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDANCiAgICB9LA0KICAgIGJvdWdodDogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgfSwNCiAgICBtYW5hZ2VhYmxlOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UNCiAgICB9LA0KICAgIGhhc0xvZ2luOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgIH0sDQogICAgY291cnNlQ29sb3I6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICIjQkNBQUE0Ig0KICAgIH0sDQogICAgY291cnNlTGlrZXM6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDANCiAgICB9LA0KICAgIGxpa2VkOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UNCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGNoaXA6IFsi5YWN6LS5IiwgIuW3sui0rSJdLA0KICAgICAgY2hpcENvbG9yOiBbInN1Y2Nlc3MiLCAicHJpbWFyeSJdDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGJ1eUNvdXJzZSgpIHsNCiAgICAgIHRoaXMuJGVtaXQoImJ1eS1jb3Vyc2UiLCB0aGlzLmNvdXJzZUlkLCB0aGlzLmNvdXJzZU5hbWUsIHRoaXMuY29zdCk7DQogICAgfSwNCiAgICBoYW5kbGVTdHVkeSgpIHsNCiAgICAgIGlmICh0aGlzLmhhc0xvZ2luKSB7DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvc3R1ZGVudC9jb3Vyc2UvJHt0aGlzLmNvdXJzZUlkfWApOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kZW1pdCgiYnV5LWNvdXJzZSIsIHRoaXMuY291cnNlSWQsIHRoaXMuY291cnNlTmFtZSwgdGhpcy5jb3N0KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGhhbmRsZVBlZWsoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL3N0dWRlbnQvcGVlay8ke3RoaXMuY291cnNlSWR9YCk7DQogICAgfSwNCiAgICBoYW5kbGVMaWtlKCkgew0KICAgICAgdGhpcy4kZW1pdCgic2V0LWxpa2UiLCB0aGlzLmNvdXJzZUlkKTsNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgdGV4dDogZnVuY3Rpb24oKSB7DQogICAgICByZXR1cm4gdGhpcy5kZXNjcmlwdGlvbi5sZW5ndGggPCA2MA0KICAgICAgICA/IHRoaXMuZGVzY3JpcHRpb24NCiAgICAgICAgOiB0aGlzLmRlc2NyaXB0aW9uLnN1YnN0cmluZygwLCA2MCkgKyAiLi4uIjsNCiAgICB9LA0KDQogICAgLy8gMCDlhY3otLkgIDEg5bey6LStDQogICAgc3RhdHVzOiBmdW5jdGlvbigpIHsNCiAgICAgIGlmICh0aGlzLmNvc3QgPT09IDApIHsNCiAgICAgICAgcmV0dXJuIDA7DQogICAgICB9IGVsc2UgaWYgKHRoaXMuYm91Z2h0KSB7DQogICAgICAgIHJldHVybiAxOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIC0xOw0KICAgIH0NCiAgfQ0KfSk7DQo="},{"version":3,"sources":["CourseItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CourseItem.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-card :color=\"courseColor\" dark width=\"380\" height=\"260\" class=\"ma-4 pa-2\">\r\n    <v-card-title class=\"headline\">\r\n      {{ courseName }}\r\n      <v-chip\r\n        small\r\n        class=\"ml-4\"\r\n        v-show=\"status === 1 || status === 0\"\r\n        :color=\"chipColor[status]\"\r\n      >\r\n        {{ chip[status] }}\r\n      </v-chip>\r\n    </v-card-title>\r\n\r\n    <v-card-text class=\"text\">\r\n      【{{ type }}课程】\r\n      {{ text }}\r\n    </v-card-text>\r\n\r\n    <v-card-actions>\r\n      <v-btn text v-show=\"status === 0 || status === 1\" @click=\"handleStudy\"\r\n        >学习课程</v-btn\r\n      >\r\n      <v-btn text v-show=\"status === -1 || !hasLogin\" @click=\"handlePeek\"\r\n        >浏览课程</v-btn\r\n      >\r\n      <v-btn\r\n        text\r\n        v-show=\"status === -1 || (status === 0 && !bought)\"\r\n        @click=\"buyCourse\"\r\n        >{{ cost === 0 ? \"免费购买\" : \"购买课程\" }}</v-btn\r\n      >\r\n    </v-card-actions>\r\n    <v-row justify=\"end\" class=\"pr-5\">\r\n      <v-btn\r\n        class=\"mx-2 align-self-center\"\r\n        fab\r\n        dark\r\n        small\r\n        :color=\"!liked ? 'red' : 'black'\"\r\n        @click=\"handleLike\"\r\n      >\r\n        <v-icon v-if=\"liked\" dark>\r\n          mdi-thumb-down\r\n        </v-icon>\r\n        <v-icon dark v-else>\r\n          mdi-heart\r\n        </v-icon>\r\n      </v-btn>\r\n      <span class=\"align-self-center\">点赞： {{ courseLikes }}</span>\r\n    </v-row>\r\n  </v-card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Vue from \"vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"CourseItem\",\r\n  props: {\r\n    courseName: {\r\n      type: String,\r\n      default: \"SubjectName\"\r\n    },\r\n    courseId: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    description: {\r\n      type: String,\r\n      default: \"课程简介\"\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: \"初级\"\r\n    },\r\n    cost: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    bought: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    manageable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    hasLogin: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    courseColor: {\r\n      type: String,\r\n      default: \"#BCAAA4\"\r\n    },\r\n    courseLikes: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    liked: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      chip: [\"免费\", \"已购\"],\r\n      chipColor: [\"success\", \"primary\"]\r\n    };\r\n  },\r\n  methods: {\r\n    buyCourse() {\r\n      this.$emit(\"buy-course\", this.courseId, this.courseName, this.cost);\r\n    },\r\n    handleStudy() {\r\n      if (this.hasLogin) {\r\n        this.$router.push(`/student/course/${this.courseId}`);\r\n      } else {\r\n        this.$emit(\"buy-course\", this.courseId, this.courseName, this.cost);\r\n      }\r\n    },\r\n    handlePeek() {\r\n      this.$router.push(`/student/peek/${this.courseId}`);\r\n    },\r\n    handleLike() {\r\n      this.$emit(\"set-like\", this.courseId);\r\n    }\r\n  },\r\n  computed: {\r\n    text: function() {\r\n      return this.description.length < 60\r\n        ? this.description\r\n        : this.description.substring(0, 60) + \"...\";\r\n    },\r\n\r\n    // 0 免费  1 已购\r\n    status: function() {\r\n      if (this.cost === 0) {\r\n        return 0;\r\n      } else if (this.bought) {\r\n        return 1;\r\n      }\r\n      return -1;\r\n    }\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.text {\r\n  height: 85px;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n"]}]}