{"remainingRequest":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/src/views/student/UserCenter.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/src/views/student/UserCenter.vue","mtime":1622360442516},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXRVc2VyIH0gZnJvbSAiQC9hcGkvdXNlciI7DQppbXBvcnQgeyByZWNoYXJnZSB9IGZyb20gIkAvYXBpL3JlY2hhcmdlIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiVXNlckNlbnRlciIsDQoNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdXNlckluZm86IHsNCiAgICAgICAgaWQ6IDAsDQogICAgICAgIHVuYW1lOiAiIiwNCiAgICAgICAgcGhvbmU6ICIiLA0KICAgICAgICBwYXNzd29yZDogbnVsbCwNCiAgICAgICAgcGljdHVyZTogbnVsbCwNCiAgICAgICAgYmFsYW5jZTogMCwNCiAgICAgICAgdXNlclJvbGU6ICIiLA0KICAgICAgICBjcmVhdGVUaW1lOiAiIg0KICAgICAgfSwNCiAgICAgIGRpYWxvZzogZmFsc2UsDQogICAgICBzaG93QWxlcnQ6IGZhbHNlLA0KICAgICAgdmFsdWU6IDAsDQogICAgICBtc2c6ICIiDQogICAgfTsNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgaGFuZGxlUmVjaGFyZ2UoKSB7DQogICAgICByZWNoYXJnZSh7IHVzZXJJZDogdGhpcy51c2VySW5mby5pZCwgdmFsdWU6IHRoaXMudmFsdWUgfSkudGhlbihyZXMgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICBpZiAocmVzICYmIHJlcy5jb2RlID09PSAxKSB7DQogICAgICAgICAgdGhpcy5tc2cgPSByZXMubXNnOw0KICAgICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7DQogICAgICAgICAgdGhpcy5zaG93QWxlcnQgPSB0cnVlOw0KICAgICAgICAgIHRoaXMucmVmcmVzaFVzZXJJbmZvKCk7DQogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICB0aGlzLnNob3dBbGVydCA9IGZhbHNlOw0KICAgICAgICAgIH0sIDEwMDApOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KDQogICAgcmVmcmVzaFVzZXJJbmZvKCkgew0KICAgICAgY29uc3QgdXNlcklkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKTsNCiAgICAgIGdldFVzZXIodXNlcklkKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMudXNlckluZm8gPSByZXMgfHwge307DQogICAgICB9KTsNCiAgICB9DQogIH0sDQoNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLnJlZnJlc2hVc2VySW5mbygpOw0KICB9DQp9Ow0K"},{"version":3,"sources":["UserCenter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"UserCenter.vue","sourceRoot":"src/views/student","sourcesContent":["<template>\r\n  <div>\r\n    <!-- alert -->\r\n    <v-alert\r\n      class=\"alert\"\r\n      outlined\r\n      type=\"success\"\r\n      text\r\n      v-show=\"showAlert\"\r\n      transition=\"scroll-y-transition\"\r\n    >\r\n      {{ msg }}\r\n    </v-alert>\r\n    <template>\r\n      <v-dialog v-model=\"dialog\" max-width=\"400\">\r\n        <v-card>\r\n          <v-card-title class=\"headline\">\r\n            账户充值\r\n          </v-card-title>\r\n          <v-text-field\r\n            v-model=\"value\"\r\n            label=\"充值金额\"\r\n            class=\"pa-6\"\r\n          ></v-text-field>\r\n\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n\r\n            <v-btn color=\"green darken-1\" text @click=\"handleRecharge\">\r\n              充值\r\n            </v-btn>\r\n\r\n            <v-btn color=\"green darken-1\" text @click=\"dialog = false\">\r\n              取消\r\n            </v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-dialog>\r\n    </template>\r\n\r\n    <v-container class=\"pl-16 pr-16\">\r\n      <form class=\"pa-12 grey lighten-5 mt-8\">\r\n        <v-text-field v-model=\"userInfo.id\" label=\"ID\" readonly></v-text-field>\r\n        <v-text-field\r\n          v-model=\"userInfo.uname\"\r\n          label=\"用户名\"\r\n          readonly\r\n        ></v-text-field>\r\n        <v-text-field\r\n          v-model=\"userInfo.phone\"\r\n          label=\"手机号\"\r\n          readonly\r\n        ></v-text-field>\r\n        <v-text-field\r\n          v-model=\"userInfo.userRole\"\r\n          label=\"用户角色\"\r\n          readonly\r\n        ></v-text-field>\r\n        <v-text-field\r\n          v-model=\"userInfo.createTime\"\r\n          label=\"注册时间\"\r\n          readonly\r\n        ></v-text-field>\r\n        <v-text-field\r\n          v-model=\"userInfo.balance\"\r\n          label=\"账户余额\"\r\n          readonly\r\n        ></v-text-field>\r\n        <v-btn color=\"primary\" dark @click.stop=\"dialog = true\">\r\n          充值\r\n        </v-btn>\r\n      </form>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getUser } from \"@/api/user\";\r\nimport { recharge } from \"@/api/recharge\";\r\n\r\nexport default {\r\n  name: \"UserCenter\",\r\n\r\n  data() {\r\n    return {\r\n      userInfo: {\r\n        id: 0,\r\n        uname: \"\",\r\n        phone: \"\",\r\n        password: null,\r\n        picture: null,\r\n        balance: 0,\r\n        userRole: \"\",\r\n        createTime: \"\"\r\n      },\r\n      dialog: false,\r\n      showAlert: false,\r\n      value: 0,\r\n      msg: \"\"\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    handleRecharge() {\r\n      recharge({ userId: this.userInfo.id, value: this.value }).then(res => {\r\n        console.log(res);\r\n        if (res && res.code === 1) {\r\n          this.msg = res.msg;\r\n          this.dialog = false;\r\n          this.showAlert = true;\r\n          this.refreshUserInfo();\r\n          setTimeout(() => {\r\n            this.showAlert = false;\r\n          }, 1000);\r\n        }\r\n      });\r\n    },\r\n\r\n    refreshUserInfo() {\r\n      const userId = window.localStorage.getItem(\"userId\");\r\n      getUser(userId).then(res => {\r\n        this.userInfo = res || {};\r\n      });\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.refreshUserInfo();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.alert {\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 100px;\r\n  z-index: 999;\r\n}\r\n</style>\r\n"]}]}