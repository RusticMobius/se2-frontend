{"remainingRequest":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/src/components/CourseItem.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/src/components/CourseItem.vue","mtime":1625758162486},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/scarlett/IdeaProjects/35cf82cde2094d8a989779d9507bd7a7/front_end/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOw0KDQpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsNCiAgbmFtZTogIkNvdXJzZUl0ZW0iLA0KICBwcm9wczogew0KICAgIGNvdXJzZU5hbWU6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICJTdWJqZWN0TmFtZSINCiAgICB9LA0KICAgIGNvdXJzZUlkOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAwDQogICAgfSwNCiAgICBkZXNjcmlwdGlvbjogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogIuivvueoi+eugOS7iyINCiAgICB9LA0KICAgIHR5cGU6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICLliJ3nuqciDQogICAgfSwNCiAgICBjb3N0OiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAwDQogICAgfSwNCiAgICBib3VnaHQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgbWFuYWdlYWJsZTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgfSwNCiAgICBoYXNMb2dpbjogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIGNvdXJzZUNvbG9yOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAiI0JDQUFBNCINCiAgICB9LA0KICAgIGNvdXJzZUxpa2VzOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAwDQogICAgfSwNCiAgICBsaWtlZDogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBjaGlwOiBbIuWFjei0uSIsICLlt7LotK0iXSwNCiAgICAgIGNoaXBDb2xvcjogWyJzdWNjZXNzIiwgInByaW1hcnkiXQ0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBidXlDb3Vyc2UoKSB7DQogICAgICB0aGlzLiRlbWl0KCJidXktY291cnNlIiwgdGhpcy5jb3Vyc2VJZCwgdGhpcy5jb3Vyc2VOYW1lLCB0aGlzLmNvc3QpOw0KICAgIH0sDQogICAgaGFuZGxlU3R1ZHkoKSB7DQogICAgICBpZiAodGhpcy5oYXNMb2dpbikgew0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL3N0dWRlbnQvY291cnNlLyR7dGhpcy5jb3Vyc2VJZH1gKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJGVtaXQoImJ1eS1jb3Vyc2UiLCB0aGlzLmNvdXJzZUlkLCB0aGlzLmNvdXJzZU5hbWUsIHRoaXMuY29zdCk7DQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVQZWVrKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goYC9zdHVkZW50L3BlZWsvJHt0aGlzLmNvdXJzZUlkfWApOw0KICAgIH0sDQogICAgaGFuZGxlTGlrZSgpIHsNCiAgICAgIHRoaXMuJGVtaXQoInNldC1saWtlIiwgdGhpcy5jb3Vyc2VJZCk7DQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIHRleHQ6IGZ1bmN0aW9uKCkgew0KICAgICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRpb24ubGVuZ3RoIDwgNjANCiAgICAgICAgPyB0aGlzLmRlc2NyaXB0aW9uDQogICAgICAgIDogdGhpcy5kZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgNjApICsgIi4uLiI7DQogICAgfSwNCg0KICAgIC8vIDAg5YWN6LS5ICAxIOW3sui0rQ0KICAgIHN0YXR1czogZnVuY3Rpb24oKSB7DQogICAgICBpZiAodGhpcy5jb3N0ID09PSAwKSB7DQogICAgICAgIHJldHVybiAwOw0KICAgICAgfSBlbHNlIGlmICh0aGlzLmJvdWdodCkgew0KICAgICAgICByZXR1cm4gMTsNCiAgICAgIH0NCiAgICAgIHJldHVybiAtMTsNCiAgICB9DQogIH0NCn0pOw0K"},{"version":3,"sources":["CourseItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CourseItem.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-card :color=\"courseColor\" dark width=\"380\" height=\"260\" class=\"ma-4 pa-2\">\r\n    <v-card-title class=\"headline\">\r\n      {{ courseName }}\r\n      <v-chip\r\n        small\r\n        class=\"ml-4\"\r\n        v-show=\"status === 1 || status === 0\"\r\n        :color=\"chipColor[status]\"\r\n\r\n      >\r\n        {{ chip[status] }}\r\n      </v-chip>\r\n    </v-card-title>\r\n\r\n    <v-card-text class=\"text\">\r\n      【{{ type }}课程】\r\n      {{ text }}\r\n    </v-card-text>\r\n\r\n    <v-card-actions>\r\n      <v-btn text v-show=\"status === 0 || status === 1\" @click=\"handleStudy\"\r\n        >学习课程</v-btn\r\n      >\r\n      <v-btn text v-show=\"status === -1 || !hasLogin\" @click=\"handlePeek\"\r\n        >浏览课程</v-btn\r\n      >\r\n      <v-btn\r\n        text\r\n        v-show=\"status === -1 || (status === 0 && !bought)\"\r\n        @click=\"buyCourse\"\r\n        >{{ cost === 0 ? \"免费购买\" : \"购买课程\" }}</v-btn\r\n      >\r\n    </v-card-actions>\r\n    <v-row justify=\"end\" class=\"pr-5\">\r\n      <v-btn\r\n        class=\"mx-2 align-self-center\"\r\n        fab\r\n        dark\r\n        small\r\n        :color=\"!liked ? 'red' : 'black'\"\r\n        @click=\"handleLike\"\r\n      >\r\n        <v-icon v-if=\"liked\" dark>\r\n          mdi-thumb-down\r\n        </v-icon>\r\n        <v-icon dark v-else>\r\n          mdi-heart\r\n        </v-icon>\r\n      </v-btn>\r\n      <span class=\"align-self-center\">点赞： {{ courseLikes }}</span>\r\n    </v-row>\r\n  </v-card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Vue from \"vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"CourseItem\",\r\n  props: {\r\n    courseName: {\r\n      type: String,\r\n      default: \"SubjectName\"\r\n    },\r\n    courseId: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    description: {\r\n      type: String,\r\n      default: \"课程简介\"\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: \"初级\"\r\n    },\r\n    cost: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    bought: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    manageable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    hasLogin: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    courseColor: {\r\n      type: String,\r\n      default: \"#BCAAA4\"\r\n    },\r\n    courseLikes: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    liked: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      chip: [\"免费\", \"已购\"],\r\n      chipColor: [\"success\", \"primary\"]\r\n    };\r\n  },\r\n  methods: {\r\n    buyCourse() {\r\n      this.$emit(\"buy-course\", this.courseId, this.courseName, this.cost);\r\n    },\r\n    handleStudy() {\r\n      if (this.hasLogin) {\r\n        this.$router.push(`/student/course/${this.courseId}`);\r\n      } else {\r\n        this.$emit(\"buy-course\", this.courseId, this.courseName, this.cost);\r\n      }\r\n    },\r\n    handlePeek() {\r\n      this.$router.push(`/student/peek/${this.courseId}`);\r\n    },\r\n    handleLike() {\r\n      this.$emit(\"set-like\", this.courseId);\r\n    }\r\n  },\r\n  computed: {\r\n    text: function() {\r\n      return this.description.length < 60\r\n        ? this.description\r\n        : this.description.substring(0, 60) + \"...\";\r\n    },\r\n\r\n    // 0 免费  1 已购\r\n    status: function() {\r\n      if (this.cost === 0) {\r\n        return 0;\r\n      } else if (this.bought) {\r\n        return 1;\r\n      }\r\n      return -1;\r\n    }\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.text {\r\n  height: 85px;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n"]}]}